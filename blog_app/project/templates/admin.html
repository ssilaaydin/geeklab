{% extends "base.html" %}
{% block title %}Admin{% endblock %}
{% block content %}
    <div class="container mt-5">
        <h2>ADMİN PANELİ</h2>
        <h3>KULLANICILAR</h3>
        <ul>
            {% for user in users %}
                <li>{{ user.username }} ({{ user.email }})
                    <form method="POST" action="{{ url_for('admin_routes.delete_user', user_id=user.id) }}" style="display:inline;">
                        <button type="submit" class="btn btn-danger btn-sm">SİL</button>
                    </form>
                    {% if not user.is_admin %}
                    <form method="POST" action="{{ url_for('admin_routes.make_admin', user_id=user.id) }}" style="display:inline;">
                        <button type="submit" class="btn btn-primary btn-sm">ADMİN YAP</button>
                    </form>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
        <h3>GÖNDERİLER</h3>
        <a class="btn btn-success mb-3" href="{{ url_for('admin_routes.new_post') }}">YENİ GÖNDERİ</a>
        <ul>
            {% for post in posts %}
                <li>{{ post.title }}
                    <a class="btn btn-info btn-sm" href="{{ url_for('admin_routes.update_post', post_id=post.id) }}">DÜZENLE</a>
                    <form method="POST" action="{{ url_for('admin_routes.delete_post', post_id=post.id) }}" style="display:inline;">
                        <button type="submit" class="btn btn-danger btn-sm">SİL</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
        <h3>YORUMLAR</h3>
        <ul>
            {% for comment in comments %}
                <li>{{ comment.content }}</li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
